<!DOCTYPE html>
<html lang="en">
    <head>
	<meta name="generator" content="Hugo 0.69.2" />
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>ThinkBox</title>
        <meta name="Description" content=""><meta property="og:title" content="ThinkBox" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.thinkbox.dev/" />
<meta property="og:updated_time" content="2020-05-02T21:16:02-04:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ThinkBox"/>
<meta name="twitter:description" content=""/>
<meta name="theme-color" content="#ffffff">
<meta name="msapplication-TileColor" content="#da532c">
<link rel="canonical" href="https://blog.thinkbox.dev/" />
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="alternate" href="/index.xml" type="application/rss+xml" title="ThinkBox">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title="ThinkBox"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><link rel="stylesheet" href="/css/style.min.css"><meta name="google-site-verification" content="UA-161605270-1" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "https:\/\/blog.thinkbox.dev\/","inLanguage": "en","author": {
                "@type": "Person",
                "name": "Aleks"
            },"name": "ThinkBox"
    }
    </script></head>
    <body><script>
            if (!window.localStorage || !window.localStorage.getItem('theme')) {window.isDark = 'dark' === 'dark';} else {
                window.isDark = (window.localStorage && window.localStorage.getItem('theme')) === 'dark';
            }
            window.isDark && document.body.classList.add('dark-theme');
        </script><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/">ThinkBox</a>
        </div>
        <div class="menu"><a class="menu-item" href="/posts/" rel="noopener noreffer">Posts</a><a class="menu-item" href="/tags/" rel="noopener noreffer">Tags</a><a class="menu-item" href="/categories/" rel="noopener noreffer">Categories</a><span class="menu-item">|</span>
            <a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-wrapper">
        <div class="header-container">
            <div class="header-title">
                <a href="/">ThinkBox</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="" rel="noopener noreffer">Posts</a><a class="menu-item" href="/tags/" title="" rel="noopener noreffer">Tags</a><a class="menu-item" href="/categories/" title="" rel="noopener noreffer">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>

<script>
    window.desktopHeaderMode = "fixed";
    window.mobileHeaderMode = "auto";
</script>
<main class="main">
                <div class="container"><div class="page home"><div class="home-profile"><div class="home-avatar">
            <a href="/posts"><img
        class="lazyload"
        src="/svg/loading.small.min.svg"
        data-sizes="auto"
        data-srcset="https://avatars0.githubusercontent.com/u/52838964?s=460&amp;u=b51716bfc4b1243ce204619461aa88a7e5351174&amp;v=4,  1.5x,  2x"
        data-src=""
        alt="avatar"
        title="Home" /></a>
        </div><h2 class="home-description"><div id="id-6d70ce" class="typeit"></div></h2><div class="home-social-links"><a href="https://github.com/iamaleks" title="GitHub" target="_blank" rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a>
<a href="https://linkedin.com/in/aleksandr-wagner-03b105199/" title="LinkedIn" target="_blank" rel="noopener noreffer me"><i class="fab fa-linkedin fa-fw"></i></a>
</div>
</div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/0009-domain-filter-with-squid/">Filtering Domains with Squid Proxy</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Aleks</a>
</span>&nbsp;<span class="post-publish">
            published on&nbsp;<time datetime=2019-10-17>2019-10-17</time>
        </span>&nbsp;
            <span class="post-category">included in<a href="/categories/misc-infrastructure">
                        <i class="far fa-folder fa-fw"></i>Misc infrastructure
                    </a></span></div><div class="content">Introduction Squid is a web proxy with caching and forwarding capabilities, however, this post will not be concerned with caching web content. The focus will be on using Squid to control which domains are accessible to a user, either through blacklisting or whitelisting.
This can be useful for blocking undesired domains, such as those associated with malware or advertisements. On the other hand it can be use to limit what a set of computers in a network can connect to which can potently mitigate the impacts of an attack.</div><div class="post-footer">
        <a href="/posts/0009-domain-filter-with-squid/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/security">Security</a>,&nbsp;<a href="/tags/proxy">Proxy</a>,&nbsp;<a href="/tags/squid">Squid</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/0008-transferring-and-seizing-fsmo-roles/">Transferring and Seizing FSMO Roles</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Aleks</a>
</span>&nbsp;<span class="post-publish">
            published on&nbsp;<time datetime=2019-10-11>2019-10-11</time>
        </span>&nbsp;
            <span class="post-category">included in<a href="/categories/active-directory">
                        <i class="far fa-folder fa-fw"></i>Active directory
                    </a></span></div><div class="content">Introduction Within a Active Directory environment there are 5 Flexible single master operation (FSMO) roles that are present, they can either all be on a single domain controller or can be distributed between multiple. There are 2 FSMO roles that are forest wide and 3 that are domain wide.
This post will describe the steps taken in order to either transfer a FSMO role to another server, or seize a FSMO role.</div><div class="post-footer">
        <a href="/posts/0008-transferring-and-seizing-fsmo-roles/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/windows">Windows</a>,&nbsp;<a href="/tags/active-directory">Active Directory</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/0007-cred-guard-windows/">Credential Guard on Windows</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Aleks</a>
</span>&nbsp;<span class="post-publish">
            published on&nbsp;<time datetime=2019-09-21>2019-09-21</time>
        </span>&nbsp;
            <span class="post-category">included in<a href="/categories/windows-internals">
                        <i class="far fa-folder fa-fw"></i>Windows internals
                    </a></span></div><div class="content">Introduction This post will aim to explain Credential Guard and Virtualization Based Security (VBS) which is the technology that makes it possible. There has been many discussions, papers, and talks about this subject. The goal of this post is for me to write out the technical details of this technology in my own words.
There are many interesting and insightful resources available online that can also help you understand how this technology works, resources I have found useful will be linked in the References section at the end of the post.</div><div class="post-footer">
        <a href="/posts/0007-cred-guard-windows/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/windows">Windows</a>,&nbsp;<a href="/tags/security">Security</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/0006-update-rollback-esxi/">Updating and Rolling Back ESXi</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Aleks</a>
</span>&nbsp;<span class="post-publish">
            published on&nbsp;<time datetime=2019-08-16>2019-08-16</time>
        </span>&nbsp;
            <span class="post-category">included in<a href="/categories/vsphere">
                        <i class="far fa-folder fa-fw"></i>Vsphere
                    </a></span></div><div class="content">Updating ESXi For this example I will be updating ESXi build 8169922 to ESXi build 13981272 . You can check the current build of an ESXi box by running the following command:
1 2 3  [root@testesxi:~] vmware -v VMware ESXi 6.7.0 build-8169922 [root@testesxi:~]   Updates come in the form of ZIP files, this ZIP file is usually downloaded from VMWare website .
After an update file is retrieved check that the hash of the file matches.</div><div class="post-footer">
        <a href="/posts/0006-update-rollback-esxi/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/esxi">ESXi</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/0005-esxi-save-state/">Saving ESXi Configuration State</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Aleks</a>
</span>&nbsp;<span class="post-publish">
            published on&nbsp;<time datetime=2019-08-15>2019-08-15</time>
        </span>&nbsp;
            <span class="post-category">included in<a href="/categories/vsphere">
                        <i class="far fa-folder fa-fw"></i>Vsphere
                    </a></span></div><div class="content">Saving the configuration state of a standalone ESXi server will allow for the restoration of all configurations if a new instance is installed. This will include all virtual machines registrations, switches, port groups, and system configurations.
Backing Up State Running auto-backup.sh will write the current configuration onto the disk, which is stored in /bootbank/state.tgz. ESXi has a cronjob that will run this script every hour, however, if there was a change made recently and you are backing up the configuration it would be best to run this script.</div><div class="post-footer">
        <a href="/posts/0005-esxi-save-state/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/esxi">ESXi</a></div></div>
</article>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/0004-locking-down-workstation-applocker/">Locking Down a Workstation with AppLocker</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Aleks</a>
</span>&nbsp;<span class="post-publish">
            published on&nbsp;<time datetime=2019-08-11>2019-08-11</time>
        </span>&nbsp;
            <span class="post-category">included in<a href="/categories/misc-infrastructure">
                        <i class="far fa-folder fa-fw"></i>Misc infrastructure
                    </a></span></div><div class="content">Introduction AppLocker is a powerful component of the Windows operating system that allows an administrator to dictate whether a user has permissions to run a file. There are a few different types of files that can be controlled by AppLocker which include executable files (.exe), DLL files (.dll), Windows Installer files (.msi), PowerShell scripts (.ps1), and packaged applications (these include graphical programs such as Settings and the GUI for Defender).</div><div class="post-footer">
        <a href="/posts/0004-locking-down-workstation-applocker/">Read More</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/windows">Windows</a>,&nbsp;<a href="/tags/security">Security</a>,&nbsp;<a href="/tags/applocker">Applocker</a></div></div>
</article>
<ul class="pagination"><li class="page-item ">
                    <span class="page-link">
                        <a href="/">1</a>
                    </span>
                </li><li class="page-item active">
                    <span class="page-link">
                        <a href="/page/2/">2</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/3/">3</a>
                    </span>
                </li></ul></div></div>
            </main><footer class="footer">
    <div class="copyright"><div class="copyright-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="external nofollow noopener noreffer"><i class="far fa-heart fa-fw"></i> LoveIt</a>
        </div>

        <div class="copyright-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Aleks</a></span></div>
    </div>
</footer>
</div><a href="#" class="dynamic-to-top animated faster" id="dynamic-to-top">
            <i class="fas fa-chevron-up fa-fw"></i>
        </a><script>
        window.typeitArr = [["id-6d70ce"]];
    </script><script>
        window.contentMap = {"id-6d70ce":"Writings about things I have done."};
    </script><script src="/lib/smooth-scroll/smooth-scroll.polyfills.min.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/typeit/typeit.min.js"></script><script src="/js/theme.min.js"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-161605270-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</body>
</html>
